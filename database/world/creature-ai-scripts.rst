.. _db-world-creature-ai-scripts:

=============================
"creature\_ai\_scripts" table
=============================

The ``creature_ai_scripts`` table holds a simple set of scripts for each
creature template allowing creatures to perform extended actions beyond
simple spell casts.

Table structure
---------------

+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| Field                         | Type                  | Null   | Key   | Default   | Extra             |
+===============================+=======================+========+=======+===========+===================+
| id                            | int(11) unsigned      | NO     | PRI   | NULL      | auto\_increment   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| creature\_id                  | int(11) unsigned      | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| event\_type                   | tinyint(5) unsigned   | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| event\_inverse\_phase\_mask   | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| event\_chance                 | int(3) unsigned       | NO     |       | 100       |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| event\_flags                  | int(3) unsigned       | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| event\_param1                 | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| event\_param2                 | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| event\_param3                 | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| event\_param4                 | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action1\_type                 | tinyint(5) unsigned   | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action1\_param1               | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action1\_param2               | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action1\_param3               | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action2\_type                 | tinyint(5) unsigned   | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action2\_param1               | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action2\_param2               | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action2\_param3               | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action3\_type                 | tinyint(5) unsigned   | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action3\_param1               | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action3\_param2               | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| action3\_param3               | int(11)               | NO     |       | 0         |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+
| comment                       | varchar(255)          | NO     |       |           |                   |
+-------------------------------+-----------------------+--------+-------+-----------+-------------------+

Fields
------

id
--

The unique identifier for the AI script entry. To ease development, it
has been defined that the identifier always equals
``creature_template``.\ ``entry`` \* 100.

creature\_id
------------

This references the :doc:`creature-template` tables
unique ID for which the entry is valid.

event\_type
-----------

The event type determines when to perform an action and also modifies
which of the parameters are used and what they mean. The following table
shows all available event types:

+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Value   | Type                                | Parameters                                                                            | Description                                                                                                                                                                                                                                                                                                                                                                 |
+=========+=====================================+=======================================================================================+=============================================================================================================================================================================================================================================================================================================================================================================+
| 0       | EVENT\_T\_TIMER\_IN\_COMBAT         | InitialMin, InitialMax, RepeatMin, RepeatMax                                          | Expires at first between (Param1) and (Param2) and then will repeat between every (Param3) and (Param4), EXPIRES ONLY IN COMBAT.                                                                                                                                                                                                                                            |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 1       | EVENT\_T\_TIMER\_OOC                | InitialMin, InitialMax, RepeatMin, RepeatMax                                          | Expires at first between (Param1) and (Param2) and then will repeat between every (Param3) and (Param4), EXPIRES ONLY OUT OF COMBAT BUT NOT DURING EVADE.                                                                                                                                                                                                                   |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 2       | EVENT\_T\_HP                        | HPMax%, HPMin%, RepeatMin, RepeatMax                                                  | Expires when the NPC's HP% is between (Param1) and (Param2). Will repeat between every (Param3) and (Param4) If Event Conditions Are Still Met.                                                                                                                                                                                                                             |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 3       | EVENT\_T\_MANA                      | ManaMax%,ManaMin% RepeatMin, RepeatMax                                                | Expires when the NPC's Mana% is between (Param1) and (Param2). Will repeat between every (Param3) and (Param4) If Event Conditions Are Still Met.                                                                                                                                                                                                                           |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 4       | EVENT\_T\_AGGRO                     | NONE                                                                                  | Expires ONLY upon the NPC's INITIAL Aggro at the Start of Combat (Does NOT Repeat) and Only Resets on Spawn or Evade.                                                                                                                                                                                                                                                       |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 5       | EVENT\_T\_KILL                      | RepeatMin, RepeatMax                                                                  | Expires upon Killing a Player. Will Repeat Check between (Param1) and (Param2). This Event Will Not Trigger Again Until Repeat Timer Expires                                                                                                                                                                                                                                |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 6       | EVENT\_T\_DEATH                     | NONE                                                                                  | Expires on the NPC's Death. (This Triggers At The Moment The NPC Dies)                                                                                                                                                                                                                                                                                                      |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 7       | EVENT\_T\_EVADE                     | NONE                                                                                  | Expires at the moment the Creature EnterEvadeMode() and Exits Combat.                                                                                                                                                                                                                                                                                                       |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 8       | EVENT\_T\_SPELLHIT                  | SpellID, School, RepeatMin, RepeatMax                                                 | Expires upon Spell Hit of the NPC. When (param1) is set, it is the specific Spell ID used as the trigger. With (param2) specified, the expiration is limited to specific spell schools (-1 for all) and Spell ID value is ignored. Will repeat Event Conditions Check between every (Param3) and (Param4). Only A Spell ID or Spell School may be Specified but NOT both.   |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 9       | EVENT\_T\_RANGE                     | MinDist, MaxDist, RepeatMin, RepeatMax                                                | Expires when the Highest Threat Target Distance is Greater than (Param1) and Less than (Param2). Will repeat between every (Param3) and (Param4) if Event Conditions Are Still Met.                                                                                                                                                                                         |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 10      | EVENT\_T\_OOC\_LOS                  | NoHostile, MaxRnage, RepeatMin, RepeatMax                                             | Expires when a unit moves within distance (MaxAllowedRange) of the NPC. If (Param1) is 0 it will expire only when unit is hostile, If (Param1) is 1 it will expire only when unit is friendly. This depends generally on faction relations. Will repeat every (Param3) and (Param4). Does NOT expire when the NPC is in combat.                                             |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 11      | EVENT\_T\_SPAWNED                   | Condition, CondValue1                                                                 | Expires on initial spawn and respawn of the NPC (Useful for setting Ranged Movement/Summoning Pets/Applying Buffs).                                                                                                                                                                                                                                                         |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 12      | EVENT\_T\_TARGET\_HP                | HPMax%, HPMin%, RepeatMin, RepeatMax                                                  | Expires when current target's HP% is between (Param1) and (Param2). Will repeat every (Param3) and (Param4)If Event Conditions Are Still Met.                                                                                                                                                                                                                               |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 13      | EVENT\_T\_TARGET\_CASTING           | RepeatMin, RepeatMax                                                                  | Expires when the current target is casting a spell. Will repeat every (Param1) and (Param2) If Event Conditions Are Still Met.                                                                                                                                                                                                                                              |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 14      | EVENT\_T\_FRIENDLY\_HP              | HPDeficit, Radius, RepeatMin, RepeatMax                                               | Expires when a friendly unit in (Radius) has at least (Param1) HP points missing. Will repeat every (Param3) and (Param4) If Event Conditions Are Still Met.                                                                                                                                                                                                                |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 15      | EVENT\_T\_FRIENDLY\_IS\_CC          | DispelType, Radius, RepeatMin, RepeatMax                                              | Expires when a friendly unit is crowd controlled within the given Radius (Param2). Will repeat every (Param3) and (Param4).                                                                                                                                                                                                                                                 |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 16      | EVENT\_T\_FRIENDLY\_MISSING\_BUFF   | SpellId, Radius, RepeatMin, RepeatMax                                                 | Expires when a friendly unit is missing aura(s) given by a spell (Param1) within Radius (Param2). Will repeat every (Param3) and (Param4) If Event Conditions Are Still Met.                                                                                                                                                                                                |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 17      | EVENT\_T\_SUMMONED\_UNIT            | CreatureId, RepeatMin, RepeatMax                                                      | Expires after creature with entry = (Param1) is spawned (Param1 = 0 means all spawns). Will repeat every (Param2) and (Param3).                                                                                                                                                                                                                                             |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 18      | EVENT\_T\_TARGET\_MANA              | ManaMax%, ManaMin%, RepeatMin, RepeatMax                                              | Expires when current target's Mana% is between (Param1) and (Param2). Will repeat every (Param3) and (Param4) If Event Conditions Are Still Met.                                                                                                                                                                                                                            |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 19      | EVENT\_T\_QUEST\_ACCEPT             | QuestID                                                                               |                                                                                                                                                                                                                                                                                                                                                                             |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 20      | EVENT\_T\_QUEST\_COMPLETE           |                                                                                       |                                                                                                                                                                                                                                                                                                                                                                             |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 21      | EVENT\_T\_REACHED\_HOME             | NONE                                                                                  | Expires when a creature reaches it's home (spawn) location after evade. This is commonly used for NPC's who Stealth once reaching their Spawn Location                                                                                                                                                                                                                      |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 22      | EVENT\_T\_RECEIVE\_EMOTE            | EmoteId, Condition, CondValue1, CondValue2                                            | Expires when a creature receives an emote with emote text id ("enum TextEmotes" from SharedDefines.h in Mangos Source) in (Param1). Conditions can be defined (Param2) with optional values (Param3,Param4), see (enum ConditionType) in ObjectMgr.h (Mangos Source).                                                                                                       |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 23      | EVENT\_T\_AURA                      | Param1 = SpellID, Param2 = Number of time stacked, Param3/4 Repeat Min/Max            | Expires when a creature has spell (Param1) auras applied in a stack greater or equal to value provided in (Param2). Will repeat every (Param3) and (Param4) If Event Conditions Are Still Met.                                                                                                                                                                              |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 24      | EVENT\_T\_TARGET\_AURA              | Param1 = SpellID, Param2 = Number of time stacked, Param3/4 Repeat Min/Max            | Expires when a target unit has spell (Param1) auras applied in a stack greater or equal to value provided in (Param2). Will repeat every (Param3) and (Param4) If Event Conditions Are Still Met.                                                                                                                                                                           |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 25      | EVENT\_T\_SUMMONED\_JUST\_DIED      | CreatureId, RepeatMin, RepeatMax                                                      | Expires after creature with entry = (Param1) is die (Param1 = 0 means all spawns). Will repeat every (Param2) and (Param3).                                                                                                                                                                                                                                                 |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 26      | EVENT\_T\_SUMMONED\_JUST\_DESPAWN   | CreatureId, RepeatMin, RepeatMax                                                      | Expires before creature with entry = (Param1) is despawn (Param1 = 0 means all spawns). Will repeat every (Param2) and (Param3).                                                                                                                                                                                                                                            |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 27      | EVENT\_T\_MISSING\_AURA             | Param1 = SpellID, Param2 = Number of time stacked expected, Param3/4 Repeat Min/Max   | Expires when a creature not has spell (Param1) auras applied in a stack greater or equal to value provided in (Param2). Will repeat every (Param3) and (Param4).                                                                                                                                                                                                            |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 28      | EVENT\_T\_TARGET\_MISSING\_AURA     | Param1 = SpellID, Param2 = Number of time stacked expected, Param3/4 Repeat Min/Max   | Expires when a target unit not has spell (Param1) auras applied in a stack greater or equal to value provided in (Param2). Will repeat every (Param3) and (Param4).                                                                                                                                                                                                         |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 29      | EVENT\_T\_TIMER\_GENERIC            | InitialMin, InitialMax, RepeatMin, RepeatMax                                          | Expires at first between (Param1) and (Param2) and then will repeat between every (Param3) and (Param4).                                                                                                                                                                                                                                                                    |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 30      | EVENT\_T\_RECEIVE\_AI\_EVENT        | AIEventType, Sender-Entry, unused, unused                                             | Expires when the creature receives an AIEvent of type (Param1), sent by creature (Param2 != 0). If (Param2 = 0) then sent by any creature                                                                                                                                                                                                                                   |
+---------+-------------------------------------+---------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Time parameters are measured in milliseconds.

.. note::

    Events will not repeat until the creature exits combat or
    unless EFLAG\_REPEATABLE is set. Some events such as EVENT\_T\_AGGRO,
    EVENT\_T\_DEATH, EVENT\_T\_SPAWNED and EVENT\_T\_EVADE cannot repeat.

event\_inverse\_phase\_mask
---------------------------

**TODO**: Document me.

event\_chance
-------------

The chance for this event to happen. Values have to be between ``1`` and
``100``.

event\_flags
------------

Event flags allow you to modify how events are executed.

+---------+-------------------------+------------------------------------------------------------------------------------+
| Value   | Type                    | Description                                                                        |
+=========+=========================+====================================================================================+
| 1       | EFLAG\_REPEATABLE       | Event repeats (Does not repeat if this flag is not set)                            |
+---------+-------------------------+------------------------------------------------------------------------------------+
| 2       | EFLAG\_RESERVED\_1      | Unused                                                                             |
+---------+-------------------------+------------------------------------------------------------------------------------+
| 4       | EFLAG\_RESERVED\_2      | Unused                                                                             |
+---------+-------------------------+------------------------------------------------------------------------------------+
| 8       | EFLAG\_RESERVED\_3      | Unused                                                                             |
+---------+-------------------------+------------------------------------------------------------------------------------+
| 16      | EFLAG\_RESERVED\_4      | Unused                                                                             |
+---------+-------------------------+------------------------------------------------------------------------------------+
| 32      | EFLAG\_RANDOM\_ACTION   | At event occur execute one random action from event actions instead all actions.   |
+---------+-------------------------+------------------------------------------------------------------------------------+
| 64      | EFLAG\_RESERVED\_6      | Unused                                                                             |
+---------+-------------------------+------------------------------------------------------------------------------------+
| 128     | EFLAG\_DEBUG\_ONLY      | Event only occurs in debug builds                                                  |
+---------+-------------------------+------------------------------------------------------------------------------------+

event\_param1
-------------

Depends on ``event_type``. See the list of event types above.

event\_param2
-------------

Depends on ``event_type``. See the list of event types above.

event\_param3
-------------

Depends on ``event_type``. See the list of event types above.

event\_param4
-------------

Depends on ``event_type``. See the list of event types above.

action1\_type
-------------

The action type defines what kind of action should be taken and
depending on the action taken, different parameters are requried to
perform the action. The following table lists all available actions
including their parameters.

+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| Value   | Type                                       | Parameters                                                                                                                     |
+=========+============================================+================================================================================================================================+
| 0       | ACTION\_T\_NONE                            | No action                                                                                                                      |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 1       | ACTION\_T\_TEXT                            | TextId1, optionally -TextId2, optionally -TextId3(if -TextId2 exist). If more than just -TextId1 is defined, randomize. Neg$   |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 2       | ACTION\_T\_SET\_FACTION                    | FactionId (or 0 for default)                                                                                                   |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 3       | ACTION\_T\_MORPH\_TO\_ENTRY\_OR\_MODEL     | Creature\_template entry(param1) OR ModelId (param2) (or 0 for both to demorph)                                                |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 4       | ACTION\_T\_SOUND                           | SoundId                                                                                                                        |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 5       | ACTION\_T\_EMOTE                           | EmoteId                                                                                                                        |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 6       | ACTION\_T\_RANDOM\_SAY                     | UNUSED                                                                                                                         |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 7       | ACTION\_T\_RANDOM\_YELL                    | UNUSED                                                                                                                         |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 8       | ACTION\_T\_RANDOM\_TEXTEMOTE               | UNUSED                                                                                                                         |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 9       | ACTION\_T\_RANDOM\_SOUND                   | SoundId1, SoundId2, SoundId3 (-1 in any field means no output if randomed that field)                                          |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 10      | ACTION\_T\_RANDOM\_EMOTE                   | EmoteId1, EmoteId2, EmoteId3 (-1 in any field means no output if randomed that field)                                          |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 11      | ACTION\_T\_CAST                            | SpellId, Target, CastFlags                                                                                                     |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 12      | ACTION\_T\_SUMMON                          | CreatureID, Target, Duration in ms                                                                                             |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 13      | ACTION\_T\_THREAT\_SINGLE\_PCT             | Threat%, Target                                                                                                                |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 14      | ACTION\_T\_THREAT\_ALL\_PCT                | Threat%                                                                                                                        |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 15      | ACTION\_T\_QUEST\_EVENT                    | QuestID, Target                                                                                                                |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 16      | ACTION\_T\_CAST\_EVENT                     | QuestID, SpellId, Target - must be removed as hack?                                                                            |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 17      | ACTION\_T\_SET\_UNIT\_FIELD                | Field\_Number, Value, Target                                                                                                   |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 18      | ACTION\_T\_SET\_UNIT\_FLAG                 | Flags (may be more than one field OR'd together), Target                                                                       |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 19      | ACTION\_T\_REMOVE\_UNIT\_FLAG              | Flags (may be more than one field OR'd together), Target                                                                       |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 20      | ACTION\_T\_AUTO\_ATTACK                    | AllowAttackState (0 = stop attack, anything else means continue attacking)                                                     |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 21      | ACTION\_T\_COMBAT\_MOVEMENT                | AllowCombatMovement (0 = stop combat based movement, anything else continue attacking)                                         |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 22      | ACTION\_T\_SET\_PHASE                      | Phase                                                                                                                          |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 23      | ACTION\_T\_INC\_PHASE                      | Value (may be negative to decrement phase, should not be 0)                                                                    |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 24      | ACTION\_T\_EVADE                           | No Params                                                                                                                      |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 25      | ACTION\_T\_FLEE\_FOR\_ASSIST               | No Params                                                                                                                      |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 26      | ACTION\_T\_QUEST\_EVENT\_ALL               | QuestID                                                                                                                        |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 27      | ACTION\_T\_CAST\_EVENT\_ALL                | CreatureId, SpellId                                                                                                            |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 28      | ACTION\_T\_REMOVEAURASFROMSPELL            | Target, Spellid                                                                                                                |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 29      | ACTION\_T\_RANGED\_MOVEMENT                | Distance, Angle                                                                                                                |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 30      | ACTION\_T\_RANDOM\_PHASE                   | PhaseId1, PhaseId2, PhaseId3                                                                                                   |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 31      | ACTION\_T\_RANDOM\_PHASE\_RANGE            | PhaseMin, PhaseMax                                                                                                             |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 32      | ACTION\_T\_SUMMON\_ID                      | CreatureId, Target, SpawnId                                                                                                    |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 33      | ACTION\_T\_KILLED\_MONSTER                 | CreatureId, Target                                                                                                             |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 34      | ACTION\_T\_SET\_INST\_DATA                 | Field, Data                                                                                                                    |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 35      | ACTION\_T\_SET\_INST\_DATA64               | Field, Target                                                                                                                  |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 36      | ACTION\_T\_UPDATE\_TEMPLATE                | Entry, Team                                                                                                                    |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 37      | ACTION\_T\_DIE                             | No Params                                                                                                                      |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 38      | ACTION\_T\_ZONE\_COMBAT\_PULSE             | No Params                                                                                                                      |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 39      | ACTION\_T\_CALL\_FOR\_HELP                 | Radius                                                                                                                         |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 40      | ACTION\_T\_SET\_SHEATH                     | Sheath (0-passive,1-melee,2-ranged)                                                                                            |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 41      | ACTION\_T\_FORCE\_DESPAWN                  | Delay (0-instant despawn)                                                                                                      |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 42      | ACTION\_T\_SET\_INVINCIBILITY\_HP\_LEVEL   | MinHpValue, format(0-flat,1-percent from max health)                                                                           |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 43      | ACTION\_T\_MOUNT\_TO\_ENTRY\_OR\_MODEL     | Creature\_template entry(param1) OR ModelId (param2) (or 0 for both to unmount)                                                |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 44      | ACTION\_T\_CHANCED\_TEXT                   | Chance to display the text, TextId1, optionally TextId2. If more than just -TextId1 is defined, randomize. Negative values.    |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 45      | ACTION\_T\_THROW\_AI\_EVENT                | EventType, Radius, unused                                                                                                      |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 46      | ACTION\_T\_SET\_THROW\_MASK                | EventTypeMask, unused, unused                                                                                                  |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| 47      | ACTION\_T\_SUMMON\_UNIQUE                  | CreatureID, Target, SummonID                                                                                                   |
+---------+--------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+

action1\_param1
---------------

See ``action1_type`` for a list of parameters required for a specific
action.

action1\_param2
---------------

See ``action1_type`` for a list of parameters required for a specific
action.

action1\_param3
---------------

See ``action1_type`` for a list of parameters required for a specific
action.

action2\_type
-------------

See ``action1_type`` for a list of available actions.

action2\_param1
---------------

See ``action1_type`` for a list of parameters required for a specific
action.

action2\_param2
---------------

See ``action1_type`` for a list of parameters required for a specific
action.

action2\_param3
---------------

See ``action1_type`` for a list of parameters required for a specific
action.

action3\_type
-------------

See ``action1_type`` for a list of available actions.

action3\_param1
---------------

See ``action1_type`` for a list of parameters required for a specific
action.

action3\_param2
---------------

See ``action1_type`` for a list of parameters required for a specific
action.

action3\_param3
---------------

See ``action1_type`` for a list of parameters required for a specific
action.

comment
-------

Documents what an event script is supposed to do. It has been defined
that comments should use the form: 'Creature/GameObject name - Cast
Spellname'.
